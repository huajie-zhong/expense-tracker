<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <title>Expense Reporting System</title>
    
</head>
<body>

    <h2>Expense Report Form</h2>

    <form id="expenseForm">
        <label for="expenseType">Expense Type:</label>
        <select id="expenseType" name="expenseType">
            <option value="travel">Travel</option>
            <option value="accommodation">Accommodation</option>
            <option value="meals">Meals</option>
            <!-- Add more options as needed -->
        </select>

        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" required>

        <label for="receipt">Upload Receipt:</label>
        <input type="file" id="receipt" name="receipt" accept="image/*">

        <label for="description">Description:</label>
        <textarea id="description" name="description" rows="4" required></textarea>

        <button type="submit">Submit Expense</button>
    </form>

    <!-- Display Expense Reports -->
    <h2>Expense Reports</h2>
    <ul id="expenseList"></ul>

    <script>
        document.getElementById('expenseForm').addEventListener('submit', function(event) {
            event.preventDefault();
            // Add logic to handle form submission (e.g., send data to the server)
            // You will need AJAX/fetch to send data to the server
            // After successful submission, update the expense list
            updateExpenseList();
        });

        function updateExpenseList() {
            // Fetch expense data from the server and update the list
            // For simplicity, I'm using dummy data here
            const dummyData = [
                { type: 'Travel', amount: 200.00, description: 'Business trip to XYZ', status: 'Pending' },
                { type: 'Meals', amount: 50.00, description: 'Dinner with clients', status: 'Approved' },
            ];

            const expenseList = document.getElementById('expenseList');
            expenseList.innerHTML = ''; // Clear previous entries

            dummyData.forEach(expense => {
                const li = document.createElement('li');
                li.textContent = `${expense.type} - $${expense.amount.toFixed(2)} - ${expense.description} - Status: ${expense.status}`;
                expenseList.appendChild(li);
            });
        }

        // Initial update of the expense list
        updateExpenseList();
    </script>

</body>
</html>